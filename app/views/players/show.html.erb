<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<div class="player-info">
    <div class="player-img">
        <%= image_tag "muroya", class: "rounded-img" %>
    </div>
    <div class="player-header">
        <div>
            <h2>室谷　成</h2>
            <button class="watch-button">
                <%= image_tag "scope" %>
            </button>
        </div>
        <div>
            <%= link_to "購入", "#", class: "buy-button" %>
            <%= link_to "売却", "#", class: "sell-button" %>
        </div>
    </div>
    <div class="player-detail">
        <div class="player-cell" id="player_cell_1">
            <%= image_tag "team" %>
            <p>FC東京</p>
        </div>
        <div class="player-cell" id="player_cell_2">
            <%= image_tag "team" %>
            <p>FC東京</p>
        </div>
        <div class="player-cell" id="player_cell_3">
            <%= image_tag "team" %>
            <p>FC東京</p>
        </div>
        <div class="player-cell" id="player_cell_4">
            <%= image_tag "team" %>
            <p>FC東京</p>
        </div>
        <div class="player-cell" id="player_cell_5">
            <%= image_tag "team" %>
            <p>FC東京</p>
        </div>
    </div>
</div>

<div id="chart_container">
    <canvas id="player_chart"></canvas>
</div>

<!-- 
TODO: Rails5にバージョンダウン or Rails6用にjsを読み込む 
-->
<script>
// Chart
var ctx = document.getElementById("player_chart").getContext("2d");
var chart = new Chart(ctx, {
    type: "line",

    data: {
        labels: ["9/1", "", "", "", "", "", "", "9/8", "", "", "", "", "", "", "9/15", "", "", "", "", "", "", "9/22", "", "", "", "", "", "", "9/29"],
        datasets: [
            {
            label: "My First dataset",
            backgroundColor: "rgba(56, 66, 60, 1)",
            borderColor: "rgba(5, 255, 0, 1)",
            data: [0, 10, 5, 2, 20, 30, 45, 0, 10, 5, 2, 20, 30, 45, 0, 10, 5, 2, 20, 30, 45, 0, 10, 5, 2, 20, 30, 45, 10],
            },
        ],
    },

    options: {
        responsive: true,
        maintainAspectRatio: false,
        legend: {
            display: false
        },
        scales: {
            yAxes: [
                {
                    position: "right",
                    ticks: {
                        fontColor: "white",
                        fontSize: 10,
                    }
                }
            ],
            xAxes: [{
                ticks: {
                    fontColor: "white",
                    fontSize: 10,
                }
            }]
        },
        layout: {
            padding: {
                left: 20,
                right: 10,
                top: 20,
                bottom: 10
            }
        },
    }   
});
</script>